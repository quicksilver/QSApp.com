RewriteEngine On

# Redirect changelog to GitHub releases
RewriteRule ^changelog\.php$ https://github.com/quicksilver/Quicksilver/releases/ [L,R=301]

# Redirect about to homepage
RewriteRule ^about(\.php)?$ / [L,R=301]

# Redirect .php URLs to clean URLs (301 permanent redirect)
RewriteRule ^(.+)\.php$ /$1 [L,R=301]

# If the request isn't already under /dist/, rewrite it there
RewriteCond %{REQUEST_URI} !^/dist/
RewriteRule ^(.+)$ /dist/$1 [L]

# If the rewritten file doesn't exist, serve the SPA entry point
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ /dist/index.html [L]
